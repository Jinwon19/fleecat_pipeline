<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleecat API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-color: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --code-bg: #1e293b;
            --code-text: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        /* Layout */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--card-bg);
            height: calc(100vh - 120px);
            position: sticky;
            top: 120px;
            overflow-y: auto;
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
        }

        .sidebar-section {
            margin-bottom: 2rem;
            padding: 0 1.5rem;
        }

        .sidebar-section h3 {
            font-size: 0.875rem;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-weight: 600;
            letter-spacing: 0.05em;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            margin: 0 -1rem;
            color: var(--text-color);
            text-decoration: none;
            border-radius: 0.5rem;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .sidebar-link:hover {
            background: var(--bg-color);
            color: var(--primary-color);
        }

        .sidebar-link.active {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: 600;
        }

        .http-method {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .method-post {
            background: #10b981;
            color: white;
        }

        .method-get {
            background: #3b82f6;
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .api-section {
            background: var(--card-bg);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .api-section h2 {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .api-section h3 {
            font-size: 1.25rem;
            margin: 2rem 0 1rem 0;
            color: var(--text-color);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        .api-section h4 {
            font-size: 1rem;
            margin: 1.5rem 0 0.75rem 0;
            color: var(--text-color);
        }

        .endpoint {
            display: flex;
            align-items: center;
            background: var(--bg-color);
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.95rem;
        }

        .endpoint .method {
            font-weight: 700;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            margin-right: 1rem;
        }

        .endpoint .path {
            color: var(--text-color);
            font-weight: 500;
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        thead {
            background: var(--bg-color);
        }

        th {
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
            color: var(--text-color);
            border-bottom: 2px solid var(--border-color);
        }

        td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        tr:hover {
            background: var(--bg-color);
        }

        /* Code Block */
        .code-block {
            position: relative;
            margin: 1rem 0;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #2d3748;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem 0.5rem 0 0;
        }

        .code-header .language {
            color: #e2e8f0;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .copy-btn.copied {
            background: var(--success-color);
        }

        pre {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 0 0 0.5rem 0.5rem;
            overflow-x: auto;
            margin: 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
        }

        code {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
        }

        /* Badge */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            margin: 0 0.25rem;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-error {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-warning {
            background: #fef3c7;
            color: #92400e;
        }

        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }

        /* Alert */
        .alert {
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .alert-info {
            background: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
        }

        .alert-warning {
            background: #fef3c7;
            border-color: #f59e0b;
            color: #92400e;
        }

        .alert-success {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }

        .alert-error {
            background: #fee2e2;
            border-color: #ef4444;
            color: #991b1b;
        }

        /* Try It Out */
        .try-it-out {
            background: linear-gradient(135deg, #667eea10, #764ba210);
            border: 2px solid var(--primary-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .try-it-out h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            font-size: 0.9rem;
            font-family: 'Monaco', 'Consolas', monospace;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .response-viewer {
            margin-top: 1rem;
            display: none;
        }

        .response-viewer.show {
            display: block;
        }

        /* Flow Diagram */
        .flow-diagram {
            background: var(--bg-color);
            padding: 2rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 1rem 0;
        }

        .flow-number {
            background: var(--primary-color);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .flow-content {
            flex: 1;
        }

        .flow-arrow {
            text-align: center;
            color: var(--primary-color);
            font-size: 1.5rem;
            margin: 0.5rem 0;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }
        }

        /* Syntax Highlighting */
        .json-key { color: #f59e0b; }
        .json-string { color: #10b981; }
        .json-number { color: #3b82f6; }
        .json-boolean { color: #8b5cf6; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš€ Fleecat API Documentation</h1>
        <p>ë°±ì—”ë“œ API ì‚¬ìš© ê°€ì´ë“œ - Step 1 ì¸ì¦ API</p>
    </div>

    <div class="container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>ì‹œì‘í•˜ê¸°</h3>
                <a href="#intro" class="sidebar-link">ì†Œê°œ</a>
                <a href="#base-url" class="sidebar-link">Base URL</a>
                <a href="#authentication" class="sidebar-link">ì¸ì¦ ë°©ì‹</a>
            </div>

            <div class="sidebar-section">
                <h3>ì¸ì¦ API</h3>
                <a href="#register" class="sidebar-link">
                    <span class="http-method method-post">POST</span> íšŒì›ê°€ì…
                </a>
                <a href="#login" class="sidebar-link">
                    <span class="http-method method-post">POST</span> ë¡œê·¸ì¸
                </a>
                <a href="#social-login" class="sidebar-link">
                    <span class="http-method method-get">GET</span> ì†Œì…œ ë¡œê·¸ì¸
                </a>
            </div>

            <div class="sidebar-section">
                <h3>ì°¸ê³  ìë£Œ</h3>
                <a href="#errors" class="sidebar-link">ì—ëŸ¬ ì½”ë“œ</a>
                <a href="#examples" class="sidebar-link">ì „ì²´ ì˜ˆì œ</a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- ì†Œê°œ -->
            <section id="intro" class="api-section">
                <h2>ğŸ“– ì†Œê°œ</h2>
                <p>Fleecat APIëŠ” RESTful ì„¤ê³„ ì›ì¹™ì„ ë”°ë¥´ëŠ” ë°±ì—”ë“œ APIì…ë‹ˆë‹¤. ì´ ë¬¸ì„œì—ì„œëŠ” íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì†Œì…œ ë¡œê·¸ì¸ ë“± ì¸ì¦ ê´€ë ¨ APIë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.</p>

                <div class="alert alert-info">
                    <strong>ğŸ’¡ íŒ:</strong> ëª¨ë“  ì½”ë“œ ì˜ˆì œëŠ” ë³µì‚¬ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í´ë¦½ë³´ë“œì— ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
            </section>

            <!-- Base URL -->
            <section id="base-url" class="api-section">
                <h2>ğŸŒ Base URL</h2>

                <h4>ë¡œì»¬ ê°œë°œ í™˜ê²½</h4>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">BASE URL</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>http://localhost:3000/api/v1</pre>
                </div>

                <h4>í”„ë¡œë•ì…˜ í™˜ê²½ (Railway)</h4>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">BASE URL</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>https://fleecat-production.up.railway.app/api/v1</pre>
                </div>
            </section>

            <!-- ì¸ì¦ ë°©ì‹ -->
            <section id="authentication" class="api-section">
                <h2>ğŸ” ì¸ì¦ ë°©ì‹</h2>
                <p>Fleecat APIëŠ” JWT(JSON Web Token) ê¸°ë°˜ ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

                <h3>Public API (ì¸ì¦ ë¶ˆí•„ìš”)</h3>
                <ul>
                    <li>POST /auth/register - íšŒì›ê°€ì…</li>
                    <li>POST /auth/login - ë¡œê·¸ì¸</li>
                    <li>GET /auth/social/:provider - ì†Œì…œ ë¡œê·¸ì¸ URL ìƒì„±</li>
                </ul>

                <h3>Private API (ì¸ì¦ í•„ìš”)</h3>
                <p>ë‹¤ìŒ í—¤ë”ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="language">HTTP Header</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</pre>
                </div>
            </section>

            <!-- íšŒì›ê°€ì… API -->
            <section id="register" class="api-section">
                <h2>ğŸ“ íšŒì›ê°€ì…</h2>
                <p>ìƒˆë¡œìš´ íšŒì›ì„ ë“±ë¡í•˜ê³  JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.</p>

                <div class="endpoint">
                    <span class="method method-post">POST</span>
                    <span class="path">/auth/register</span>
                </div>

                <span class="badge badge-success">Public</span>
                <span class="badge badge-info">ì¸ì¦ ë¶ˆí•„ìš”</span>

                <h3>ìš”ì²­ ë³¸ë¬¸</h3>
                <table>
                    <thead>
                        <tr>
                            <th>í•„ë“œ</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>email</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ì´ë©”ì¼ ì£¼ì†Œ (ìœ ì¼í•´ì•¼ í•¨)</td>
                        </tr>
                        <tr>
                            <td><code>password</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ, íŠ¹ìˆ˜ë¬¸ì í¬í•¨)</td>
                        </tr>
                        <tr>
                            <td><code>name</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ì´ë¦„ (2~30ì)</td>
                        </tr>
                        <tr>
                            <td><code>nickname</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ë‹‰ë„¤ì„ (2~30ì, ìœ ì¼í•´ì•¼ í•¨)</td>
                        </tr>
                        <tr>
                            <td><code>phone</code></td>
                            <td>String</td>
                            <td>âŒ</td>
                            <td>ì „í™”ë²ˆí˜¸ (ì˜ˆ: 010-1234-5678)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ìš”ì²­ ì˜ˆì œ</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">cURL</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>curl -X POST http://localhost:3000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "secure123!",
    "name": "í™ê¸¸ë™",
    "nickname": "ê¸¸ë™ì´",
    "phone": "010-1234-5678"
  }'</pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JavaScript (fetch)</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>const response = await fetch('http://localhost:3000/api/v1/auth/register', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'secure123!',
    name: 'í™ê¸¸ë™',
    nickname: 'ê¸¸ë™ì´',
    phone: '010-1234-5678'
  })
});

const data = await response.json();
console.log(data);</pre>
                </div>

                <h3>ì‘ë‹µ ì˜ˆì œ (201 Created)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>{
  "success": true,
  "message": "Registration successful",
  "data": {
    "member": {
      "member_id": 123,
      "member_email": "user@example.com",
      "member_name": "í™ê¸¸ë™",
      "member_nickname": "ê¸¸ë™ì´",
      "member_phone": "010-1234-5678",
      "member_status": "active",
      "role": "buyer"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}</pre>
                </div>

                <!-- Try It Out -->
                <div class="try-it-out">
                    <h4>ğŸ§ª ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ê¸°</h4>
                    <form onsubmit="testRegister(event)">
                        <div class="form-group">
                            <label>ì´ë©”ì¼</label>
                            <input type="email" id="register-email" placeholder="user@example.com" required>
                        </div>
                        <div class="form-group">
                            <label>ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" id="register-password" placeholder="secure123!" required>
                        </div>
                        <div class="form-group">
                            <label>ì´ë¦„</label>
                            <input type="text" id="register-name" placeholder="í™ê¸¸ë™" required>
                        </div>
                        <div class="form-group">
                            <label>ë‹‰ë„¤ì„</label>
                            <input type="text" id="register-nickname" placeholder="ê¸¸ë™ì´" required>
                        </div>
                        <div class="form-group">
                            <label>ì „í™”ë²ˆí˜¸ (ì„ íƒ)</label>
                            <input type="text" id="register-phone" placeholder="010-1234-5678">
                        </div>
                        <button type="submit" class="btn btn-primary">ìš”ì²­ ë³´ë‚´ê¸°</button>
                    </form>
                    <div id="register-response" class="response-viewer"></div>
                </div>
            </section>

            <!-- ë¡œê·¸ì¸ API -->
            <section id="login" class="api-section">
                <h2>ğŸ”‘ ë¡œê·¸ì¸</h2>
                <p>ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì—¬ JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.</p>

                <div class="endpoint">
                    <span class="method method-post">POST</span>
                    <span class="path">/auth/login</span>
                </div>

                <span class="badge badge-success">Public</span>
                <span class="badge badge-info">ì¸ì¦ ë¶ˆí•„ìš”</span>

                <h3>ìš”ì²­ ë³¸ë¬¸</h3>
                <table>
                    <thead>
                        <tr>
                            <th>í•„ë“œ</th>
                            <th>íƒ€ì…</th>
                            <th>í•„ìˆ˜</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>email</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ì´ë©”ì¼ ì£¼ì†Œ</td>
                        </tr>
                        <tr>
                            <td><code>password</code></td>
                            <td>String</td>
                            <td>âœ…</td>
                            <td>ë¹„ë°€ë²ˆí˜¸</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ìš”ì²­ ì˜ˆì œ</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JavaScript (fetch)</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>const response = await fetch('http://localhost:3000/api/v1/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'user@example.com',
    password: 'secure123!'
  })
});

const data = await response.json();

if (data.success) {
  // í† í° ì €ì¥
  localStorage.setItem('fleecat_token', data.data.token);
  console.log('ë¡œê·¸ì¸ ì„±ê³µ!', data.data.member);
}</pre>
                </div>

                <h3>ì‘ë‹µ ì˜ˆì œ (200 OK)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>{
  "success": true,
  "message": "Login successful",
  "data": {
    "member": {
      "member_id": 123,
      "member_email": "user@example.com",
      "member_nickname": "ê¸¸ë™ì´",
      "role": "buyer"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}</pre>
                </div>

                <div class="alert alert-warning">
                    <strong>âš ï¸ ë³´ì•ˆ:</strong> ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì˜¤ë¥˜ë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  "Invalid credentials" ë©”ì‹œì§€ë§Œ ë°˜í™˜í•©ë‹ˆë‹¤.
                </div>

                <!-- Try It Out -->
                <div class="try-it-out">
                    <h4>ğŸ§ª ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ê¸°</h4>
                    <form onsubmit="testLogin(event)">
                        <div class="form-group">
                            <label>ì´ë©”ì¼</label>
                            <input type="email" id="login-email" placeholder="user@example.com" required>
                        </div>
                        <div class="form-group">
                            <label>ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" id="login-password" placeholder="secure123!" required>
                        </div>
                        <button type="submit" class="btn btn-primary">ë¡œê·¸ì¸</button>
                    </form>
                    <div id="login-response" class="response-viewer"></div>
                </div>
            </section>

            <!-- ì†Œì…œ ë¡œê·¸ì¸ API -->
            <section id="social-login" class="api-section">
                <h2>ğŸŒ ì†Œì…œ ë¡œê·¸ì¸ (Google/Kakao)</h2>
                <p>Google ë˜ëŠ” Kakao ê³„ì •ìœ¼ë¡œ ê°„í¸í•˜ê²Œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.</p>

                <h3>ì „ì²´ í”Œë¡œìš°</h3>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="flow-number">1</div>
                        <div class="flow-content">
                            <strong>OAuth URL ìš”ì²­</strong><br>
                            í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ: GET /auth/social/google
                        </div>
                    </div>
                    <div class="flow-arrow">â†“</div>
                    <div class="flow-step">
                        <div class="flow-number">2</div>
                        <div class="flow-content">
                            <strong>OAuth URL ë°˜í™˜</strong><br>
                            ë°±ì—”ë“œ â†’ í”„ë¡ íŠ¸ì—”ë“œ: Google OAuth URL
                        </div>
                    </div>
                    <div class="flow-arrow">â†“</div>
                    <div class="flow-step">
                        <div class="flow-number">3</div>
                        <div class="flow-content">
                            <strong>Google ë¡œê·¸ì¸</strong><br>
                            í”„ë¡ íŠ¸ì—”ë“œ â†’ Google: ì‚¬ìš©ì ë¦¬ë‹¤ì´ë ‰íŠ¸
                        </div>
                    </div>
                    <div class="flow-arrow">â†“</div>
                    <div class="flow-step">
                        <div class="flow-number">4</div>
                        <div class="flow-content">
                            <strong>Callback</strong><br>
                            Google â†’ í”„ë¡ íŠ¸ì—”ë“œ: /auth/callback#access_token=...
                        </div>
                    </div>
                    <div class="flow-arrow">â†“</div>
                    <div class="flow-step">
                        <div class="flow-number">5</div>
                        <div class="flow-content">
                            <strong>í† í° êµí™˜</strong><br>
                            í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ: POST /auth/social/google/token
                        </div>
                    </div>
                    <div class="flow-arrow">â†“</div>
                    <div class="flow-step">
                        <div class="flow-number">6</div>
                        <div class="flow-content">
                            <strong>JWT ë°œê¸‰</strong><br>
                            ë°±ì—”ë“œ â†’ í”„ë¡ íŠ¸ì—”ë“œ: JWT í† í° + íšŒì› ì •ë³´
                        </div>
                    </div>
                </div>

                <h3>1ë‹¨ê³„: OAuth URL ìƒì„±</h3>
                <div class="endpoint">
                    <span class="method method-get">GET</span>
                    <span class="path">/auth/social/:provider</span>
                </div>

                <p><code>:provider</code> = <code>google</code> ë˜ëŠ” <code>kakao</code></p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JavaScript</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>// Google ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ
async function loginWithGoogle() {
  const response = await fetch('/api/v1/auth/social/google');
  const data = await response.json();

  if (data.success) {
    // Google ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    window.location.href = data.data.url;
  }
}</pre>
                </div>

                <h3>2ë‹¨ê³„: ì½œë°± ì²˜ë¦¬ (access_token ì¶”ì¶œ)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JavaScript (callback.html)</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>// URL í•´ì‹œì—ì„œ access_token ì¶”ì¶œ
const hash = window.location.hash.substring(1);
const hashParams = new URLSearchParams(hash);
const accessToken = hashParams.get('access_token');
const refreshToken = hashParams.get('refresh_token');</pre>
                </div>

                <h3>3ë‹¨ê³„: ë°±ì—”ë“œë¡œ í† í° ì „ì†¡</h3>
                <div class="endpoint">
                    <span class="method method-post">POST</span>
                    <span class="path">/auth/social/:provider/token</span>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JavaScript</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>const response = await fetch('/api/v1/auth/social/google/token', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    access_token: accessToken,
    refresh_token: refreshToken
  })
});

const data = await response.json();

if (data.success) {
  // JWT í† í° ì €ì¥
  localStorage.setItem('fleecat_token', data.data.token);
  localStorage.setItem('fleecat_user', JSON.stringify(data.data.member));

  // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
  window.location.href = '/dashboard';
}</pre>
                </div>

                <h3>ì‘ë‹µ ì˜ˆì œ (200 OK)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>{
  "success": true,
  "message": "Social login successful",
  "data": {
    "member": {
      "member_id": 456,
      "member_email": "user@gmail.com",
      "member_name": "í™ê¸¸ë™",
      "member_nickname": "google_user_1234",
      "member_auth_provider": "google",
      "role": "buyer"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}</pre>
                </div>

                <div class="alert alert-success">
                    <strong>âœ… ìë™ íšŒì›ê°€ì…:</strong> ì†Œì…œ ë¡œê·¸ì¸ ì‹œ ì‹ ê·œ íšŒì›ì€ ìë™ìœ¼ë¡œ ë“±ë¡ë©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ëŠ” NULLë¡œ ì €ì¥ë©ë‹ˆë‹¤.
                </div>

                <!-- Try It Out -->
                <div class="try-it-out">
                    <h4>ğŸ§ª ì§ì ‘ í…ŒìŠ¤íŠ¸í•˜ê¸°</h4>
                    <p>ì‹¤ì œ Google ë¡œê·¸ì¸ì„ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ë‹¤ìŒ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ì„¸ìš”:</p>
                    <a href="/test-google-login.html" target="_blank" class="btn btn-primary" style="display: inline-block; text-decoration: none;">
                        Google ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì—´ê¸°
                    </a>
                </div>
            </section>

            <!-- ì—ëŸ¬ ì½”ë“œ -->
            <section id="errors" class="api-section">
                <h2>âš ï¸ ì—ëŸ¬ ì½”ë“œ</h2>

                <h3>HTTP ìƒíƒœ ì½”ë“œ</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ì½”ë“œ</th>
                            <th>ì„¤ëª…</th>
                            <th>ë°œìƒ ì¼€ì´ìŠ¤</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>200</strong></td>
                            <td>OK</td>
                            <td>ìš”ì²­ ì„±ê³µ (ë¡œê·¸ì¸, ì¡°íšŒ ë“±)</td>
                        </tr>
                        <tr>
                            <td><strong>201</strong></td>
                            <td>Created</td>
                            <td>ë¦¬ì†ŒìŠ¤ ìƒì„± ì„±ê³µ (íšŒì›ê°€ì…)</td>
                        </tr>
                        <tr>
                            <td><strong>400</strong></td>
                            <td>Bad Request</td>
                            <td>ì…ë ¥ ê²€ì¦ ì‹¤íŒ¨, ì¤‘ë³µ ë°ì´í„°</td>
                        </tr>
                        <tr>
                            <td><strong>401</strong></td>
                            <td>Unauthorized</td>
                            <td>ì¸ì¦ ì‹¤íŒ¨, JWT í† í° ë¬¸ì œ</td>
                        </tr>
                        <tr>
                            <td><strong>404</strong></td>
                            <td>Not Found</td>
                            <td>ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ</td>
                        </tr>
                        <tr>
                            <td><strong>500</strong></td>
                            <td>Internal Server Error</td>
                            <td>ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ì—ëŸ¬ ì‘ë‹µ í˜•ì‹</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">JSON</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>{
  "success": false,
  "message": "Email already exists",
  "errors": [
    {
      "field": "email",
      "message": "This email is already registered"
    }
  ]
}</pre>
                </div>
            </section>

            <!-- ì „ì²´ ì˜ˆì œ -->
            <section id="examples" class="api-section">
                <h2>ğŸ“š ì™„ì „í•œ React ì˜ˆì œ</h2>

                <h3>íšŒì›ê°€ì… + ë¡œê·¸ì¸ í¼</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="language">React Component</span>
                        <button class="copy-btn" onclick="copyCode(this)">ë³µì‚¬</button>
                    </div>
                    <pre>import { useState } from 'react';
import axios from 'axios';

const API_BASE_URL = 'http://localhost:3000/api/v1';

function AuthForm() {
  const [isLogin, setIsLogin] = useState(true);
  const [formData, setFormData] = useState({
    email: '',
    password: '',
    name: '',
    nickname: '',
    phone: ''
  });
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    setLoading(true);

    try {
      const endpoint = isLogin ? '/auth/login' : '/auth/register';
      const payload = isLogin
        ? { email: formData.email, password: formData.password }
        : formData;

      const response = await axios.post(`${API_BASE_URL}${endpoint}`, payload);

      // í† í° ì €ì¥
      localStorage.setItem('fleecat_token', response.data.data.token);
      localStorage.setItem('fleecat_user', JSON.stringify(response.data.data.member));

      // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
      window.location.href = '/dashboard';
    } catch (err) {
      if (err.response) {
        setError(err.response.data.message);
      } else {
        setError('ì„œë²„ì™€ í†µì‹ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    } finally {
      setLoading(false);
    }
  };

  return (
    &lt;div className="auth-form"&gt;
      &lt;h2&gt;{isLogin ? 'ë¡œê·¸ì¸' : 'íšŒì›ê°€ì…'}&lt;/h2&gt;

      &lt;form onSubmit={handleSubmit}&gt;
        &lt;input
          type="email"
          placeholder="ì´ë©”ì¼"
          value={formData.email}
          onChange={(e) =&gt; setFormData({ ...formData, email: e.target.value })}
          required
        /&gt;

        &lt;input
          type="password"
          placeholder="ë¹„ë°€ë²ˆí˜¸"
          value={formData.password}
          onChange={(e) =&gt; setFormData({ ...formData, password: e.target.value })}
          required
        /&gt;

        {!isLogin && (
          &lt;&gt;
            &lt;input
              type="text"
              placeholder="ì´ë¦„"
              value={formData.name}
              onChange={(e) =&gt; setFormData({ ...formData, name: e.target.value })}
              required
            /&gt;
            &lt;input
              type="text"
              placeholder="ë‹‰ë„¤ì„"
              value={formData.nickname}
              onChange={(e) =&gt; setFormData({ ...formData, nickname: e.target.value })}
              required
            /&gt;
            &lt;input
              type="text"
              placeholder="ì „í™”ë²ˆí˜¸ (ì„ íƒ)"
              value={formData.phone}
              onChange={(e) =&gt; setFormData({ ...formData, phone: e.target.value })}
            /&gt;
          &lt;/&gt;
        )}

        {error && &lt;div className="error"&gt;{error}&lt;/div&gt;}

        &lt;button type="submit" disabled={loading}&gt;
          {loading ? 'ì²˜ë¦¬ ì¤‘...' : isLogin ? 'ë¡œê·¸ì¸' : 'íšŒì›ê°€ì…'}
        &lt;/button&gt;
      &lt;/form&gt;

      &lt;button onClick={() =&gt; setIsLogin(!isLogin)}&gt;
        {isLogin ? 'íšŒì›ê°€ì…í•˜ê¸°' : 'ë¡œê·¸ì¸í•˜ê¸°'}
      &lt;/button&gt;
    &lt;/div&gt;
  );
}

export default AuthForm;</pre>
                </div>
            </section>
        </main>
    </div>

    <script>
        // API Base URL ìë™ ê°ì§€
        const API_BASE_URL = window.location.hostname === 'localhost'
            ? 'http://localhost:3000/api/v1'
            : 'https://fleecat-production.up.railway.app/api/v1';

        // ì½”ë“œ ë³µì‚¬ ê¸°ëŠ¥
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('pre').textContent;

            navigator.clipboard.writeText(code).then(() => {
                button.textContent = 'âœ“ ë³µì‚¬ë¨';
                button.classList.add('copied');

                setTimeout(() => {
                    button.textContent = 'ë³µì‚¬';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // ì‚¬ì´ë“œë°” ë§í¬ í™œì„±í™”
        document.querySelectorAll('.sidebar-link').forEach(link => {
            link.addEventListener('click', function(e) {
                document.querySelectorAll('.sidebar-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸
        async function testRegister(e) {
            e.preventDefault();

            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const name = document.getElementById('register-name').value;
            const nickname = document.getElementById('register-nickname').value;
            const phone = document.getElementById('register-phone').value;

            const responseViewer = document.getElementById('register-response');
            responseViewer.innerHTML = '<p>ìš”ì²­ ì¤‘...</p>';
            responseViewer.classList.add('show');

            try {
                const response = await fetch(`${API_BASE_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        email,
                        password,
                        name,
                        nickname,
                        phone: phone || undefined
                    })
                });

                const data = await response.json();

                const statusClass = response.ok ? 'alert-success' : 'alert-error';
                responseViewer.innerHTML = `
                    <div class="alert ${statusClass}">
                        <strong>HTTP ${response.status}</strong>
                    </div>
                    <div class="code-block">
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `;
            } catch (error) {
                responseViewer.innerHTML = `
                    <div class="alert alert-error">
                        <strong>ì—ëŸ¬:</strong> ${error.message}
                    </div>
                `;
            }
        }

        // ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
        async function testLogin(e) {
            e.preventDefault();

            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            const responseViewer = document.getElementById('login-response');
            responseViewer.innerHTML = '<p>ìš”ì²­ ì¤‘...</p>';
            responseViewer.classList.add('show');

            try {
                const response = await fetch(`${API_BASE_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        email,
                        password
                    })
                });

                const data = await response.json();

                const statusClass = response.ok ? 'alert-success' : 'alert-error';
                responseViewer.innerHTML = `
                    <div class="alert ${statusClass}">
                        <strong>HTTP ${response.status}</strong>
                    </div>
                    <div class="code-block">
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `;

                // ì„±ê³µ ì‹œ í† í° ì €ì¥
                if (data.success) {
                    localStorage.setItem('fleecat_token', data.data.token);
                    responseViewer.innerHTML += `
                        <div class="alert alert-success">
                            âœ… JWT í† í°ì´ localStorageì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
                        </div>
                    `;
                }
            } catch (error) {
                responseViewer.innerHTML = `
                    <div class="alert alert-error">
                        <strong>ì—ëŸ¬:</strong> ${error.message}
                    </div>
                `;
            }
        }

        // ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
