# ğŸ“š í”Œë¦¬ë§ˆì¼“ í¬ë¡¤ë§ í”„ë¡œì íŠ¸ ì‚¬ìš© ê°€ì´ë“œ

## ğŸ¯ ê° íŒŒì¼ì˜ ì—­í• 

### ì‹¤í–‰ íŒŒì¼ (BAT)

| íŒŒì¼ | ìš©ë„ | ì‹¤í–‰ ë‚´ìš© |
|------|------|----------|
| **`run_fast.bat`** | ì „ì²´ ìë™í™” | í¬ë¡¤ë§ â†’ JSON ìƒì„± â†’ DB ì €ì¥ (ì „ì²´) |
| **`save_to_db.bat`** | DBë§Œ ì €ì¥ | JSON â†’ DB ì €ì¥ë§Œ (í¬ë¡¤ë§ ì•ˆ í•¨) |
| **`check_db.bat`** | DB í™•ì¸ | ì €ì¥ëœ ë°ì´í„° í™•ì¸ |
| **`init_db.bat`** | DB ì´ˆê¸°í™” | í…Œì´ë¸” ìƒì„± (ìµœì´ˆ 1íšŒ) |

### Python íŒŒì¼

| íŒŒì¼ | ì—­í•  |
|------|------|
| `flea_list_fast.py` | ê²Œì‹œë¬¼ ëª©ë¡ í¬ë¡¤ë§ â†’ `fleamarket_posts.json` |
| `flea_text_fast.py` | ìƒì„¸ ë‚´ìš© í¬ë¡¤ë§ â†’ `fleamarket_detail.json` |
| `pipeline.py` | JSON â†’ LLM ì •ì œ â†’ DB ì €ì¥ |
| `scheduler_fast.py` | ìœ„ 3ê°œë¥¼ ìˆœì°¨ ì‹¤í–‰ |

### ë°ì´í„° íŒŒì¼

| íŒŒì¼ | ë‚´ìš© |
|------|------|
| `fleamarket_posts.json` | ê²Œì‹œë¬¼ ëª©ë¡ (ì œëª©, ë§í¬, ì´ë¯¸ì§€) |
| `fleamarket_detail.json` | ìƒì„¸ ë‚´ìš© (ë³¸ë¬¸, ë‚ ì§œ, ì¥ì†Œ) |
| `fleamarket.db` | SQLite DB (ì •ì œëœ ìµœì¢… ë°ì´í„°) |

---

## ğŸ“‹ ìƒí™©ë³„ ì‚¬ìš© ë°©ë²•

### âœ… ì‹œë‚˜ë¦¬ì˜¤ 1: ì²˜ìŒ ì‚¬ìš© (ì „ì²´ ì‹¤í–‰)

```
1. run_fast.bat ì‹¤í–‰
   â†“
2. check_db.batìœ¼ë¡œ í™•ì¸
```

**ê²°ê³¼:**
- âœ… ì›¹ì‚¬ì´íŠ¸ í¬ë¡¤ë§
- âœ… JSON íŒŒì¼ ìƒì„±
- âœ… DBì— ì €ì¥
- âœ… ëª¨ë“  ê³¼ì • ìë™í™”

---

### âœ… ì‹œë‚˜ë¦¬ì˜¤ 2: JSONì€ ìˆê³  DBë§Œ ì €ì¥ (í˜„ì¬ ìƒí™©)

```
1. save_to_db.bat ì‹¤í–‰
   â†“
2. check_db.batìœ¼ë¡œ í™•ì¸
```

**ê²°ê³¼:**
- â­ï¸ í¬ë¡¤ë§ ê±´ë„ˆëœ€
- âœ… ê¸°ì¡´ JSON ì‚¬ìš©
- âœ… DBì—ë§Œ ì €ì¥
- â±ï¸ í›¨ì”¬ ë¹ ë¦„ (LLM ì²˜ë¦¬ ì‹œê°„ë§Œ)

---

### âœ… ì‹œë‚˜ë¦¬ì˜¤ 3: ë§¤ì¼/ì£¼ê°„ ì—…ë°ì´íŠ¸

```
ë§¤ì£¼ ì›”ìš”ì¼ë§ˆë‹¤:
run_fast.bat ì‹¤í–‰
```

**ê²°ê³¼:**
- âœ… ì‹ ê·œ ê²Œì‹œë¬¼ë§Œ í¬ë¡¤ë§ (ì¤‘ë³µ ì œê±°)
- âœ… ì‹ ê·œ ë°ì´í„°ë§Œ DBì— ì¶”ê°€
- âœ… ê¸°ì¡´ ë°ì´í„° ìœ ì§€

---

### âœ… ì‹œë‚˜ë¦¬ì˜¤ 4: í¬ë¡¤ë§ë§Œ ë‹¤ì‹œ (DB ì €ì¥ ì•ˆ í•¨)

```
python flea_list_fast.py
python flea_text_fast.py
```

**ê²°ê³¼:**
- âœ… JSON íŒŒì¼ ì—…ë°ì´íŠ¸
- âŒ DBëŠ” ê·¸ëŒ€ë¡œ

---

### âœ… ì‹œë‚˜ë¦¬ì˜¤ 5: DB ì´ˆê¸°í™” (ì²˜ìŒë¶€í„°)

```
1. fleamarket.db íŒŒì¼ ì‚­ì œ
2. init_db.py ì‹¤í–‰
3. save_to_db.bat ì‹¤í–‰
```

**ê²°ê³¼:**
- âœ… ê¹¨ë—í•œ DB
- âœ… ì „ì²´ ë°ì´í„° ì¬ì €ì¥

---

## ğŸ”§ SQLite DB ê´€ë¦¬

### 1. ì»¤ë§¨ë“œë¼ì¸ìœ¼ë¡œ í™•ì¸

```bash
# DB ì—´ê¸°
sqlite3 fleamarket.db

# í…Œì´ë¸” ëª©ë¡ í™•ì¸
.tables

# ë°ì´í„° ì¡°íšŒ
SELECT * FROM markets LIMIT 5;

# ì¢…ë£Œ
.quit
```

### 2. GUI ë„êµ¬ (ì¶”ì²œ)

**DB Browser for SQLite**
1. https://sqlitebrowser.org/dl/ ì—ì„œ ë‹¤ìš´ë¡œë“œ
2. `fleamarket.db` ì—´ê¸°
3. "Browse Data" íƒ­ì—ì„œ ë°ì´í„° í™•ì¸
4. "Execute SQL" íƒ­ì—ì„œ ì¿¼ë¦¬ ì‹¤í–‰

**ì‚¬ìš© ì˜ˆì‹œ:**
```sql
-- ì „ì²´ í–‰ì‚¬ ìˆ˜
SELECT COUNT(*) FROM markets;

-- ì¥ì†Œë³„ í–‰ì‚¬ ìˆ˜
SELECT place, COUNT(*) 
FROM markets 
GROUP BY place 
ORDER BY COUNT(*) DESC;

-- ìµœê·¼ ì¼ì •
SELECT m.market_name, s.start_date, s.place
FROM sessions s
JOIN markets m ON s.market_id = m.id
WHERE s.start_date >= date('now')
ORDER BY s.start_date;
```

### 3. Pythonìœ¼ë¡œ ì¡°íšŒ

```python
import sqlite3

conn = sqlite3.connect('fleamarket.db')
cur = conn.cursor()

# ì¡°íšŒ
cur.execute("SELECT * FROM markets LIMIT 5")
for row in cur.fetchall():
    print(row)

conn.close()
```

---

## ğŸ”„ ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

### ì „ì²´ í”„ë¡œì„¸ìŠ¤ (run_fast.bat)

```
ì›¹ì‚¬ì´íŠ¸
   â†“ [flea_list_fast.py]
fleamarket_posts.json (ëª©ë¡)
   â†“ [flea_text_fast.py]
fleamarket_detail.json (ìƒì„¸)
   â†“ [pipeline.py + LLM]
fleamarket.db (ì •ì œëœ ë°ì´í„°)
   â†“ [check_db.py]
í™”ë©´ì— ì¶œë ¥
```

### ë¶€ë¶„ ì‹¤í–‰ (save_to_db.bat)

```
fleamarket_posts.json âœ… (ì´ë¯¸ ìˆìŒ)
fleamarket_detail.json âœ… (ì´ë¯¸ ìˆìŒ)
   â†“ [pipeline.py + LLM]
fleamarket.db âœ… (ì €ì¥)
```

---

## âš™ï¸ ì„¤ì • ì¡°ì •

### í¬ë¡¤ë§ í˜ì´ì§€ ìˆ˜ ì¡°ì •

**`flea_list_fast.py`**
```python
MAX_PAGES = 10   # 10í˜ì´ì§€ë§Œ í¬ë¡¤ë§
MAX_WORKERS = 5  # 5ê°œ ë™ì‹œ ì²˜ë¦¬
```

### LLM ëª¨ë¸ ë³€ê²½

**`llm_processor.py`**
```python
model="gpt-4o-mini"  # ë¹ ë¥´ê³  ì €ë ´
# model="gpt-4"      # ëŠë¦¬ì§€ë§Œ ì •í™•
```

---

## ğŸ“Š ë°ì´í„° íë¦„ ìš”ì•½

| ë‹¨ê³„ | ì…ë ¥ | ì¶œë ¥ | ë„êµ¬ |
|------|------|------|------|
| 1. ëª©ë¡ ìˆ˜ì§‘ | ì›¹ì‚¬ì´íŠ¸ | `fleamarket_posts.json` | Selenium/requests |
| 2. ìƒì„¸ ìˆ˜ì§‘ | ì›¹ì‚¬ì´íŠ¸ | `fleamarket_detail.json` | Selenium/requests |
| 3. ì •ì œ | JSON | êµ¬ì¡°í™”ëœ JSON | OpenAI LLM |
| 4. ì €ì¥ | êµ¬ì¡°í™”ëœ JSON | `fleamarket.db` | SQLite |

---

## ğŸ†˜ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q1: ë§¤ë²ˆ ì „ì²´ë¥¼ ë‹¤ì‹œ í¬ë¡¤ë§í•˜ë‚˜ìš”?
**A:** ì•„ë‹ˆìš”! ì¤‘ë³µ ì²´í¬ ê¸°ëŠ¥ì´ ìˆì–´ì„œ **ì‹ ê·œ ê²Œì‹œë¬¼ë§Œ** ì¶”ê°€ë©ë‹ˆë‹¤.

### Q2: JSONê³¼ DB ë‘˜ ë‹¤ í•„ìš”í•œê°€ìš”?
**A:** 
- JSON: ì›ë³¸ ë°ì´í„° ë°±ì—…
- DB: ì¿¼ë¦¬ ê°€ëŠ¥í•œ ì •ì œëœ ë°ì´í„°
- ë‘˜ ë‹¤ ìœ ì§€í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

### Q3: LLM API ë¹„ìš©ì€ ì–¼ë§ˆë‚˜ ë“œë‚˜ìš”?
**A:** GPT-4o-mini ê¸°ì¤€ 100ê°œ ê²Œì‹œë¬¼ ì•½ $0.10~0.50 (ì €ë ´)

### Q4: ì‹¤í–‰ ì‹œê°„ì€?
**A:**
- í¬ë¡¤ë§: 10í˜ì´ì§€ ì•½ 20ì´ˆ~2ë¶„
- LLM ì •ì œ: 100ê°œ ì•½ 2~5ë¶„
- ì´: ì•½ 5~10ë¶„

### Q5: DBë¥¼ ë‹¤ë¥¸ ê³³ì— ì˜®ê¸¸ ìˆ˜ ìˆë‚˜ìš”?
**A:** ë„¤! `fleamarket.db` íŒŒì¼ë§Œ ë³µì‚¬í•˜ë©´ ë©ë‹ˆë‹¤.

---

## ğŸ’¡ ì¶”ì²œ ì›Œí¬í”Œë¡œìš°

### ì¼ì¼ ì—…ë°ì´íŠ¸
```bash
# ë§¤ì¼ ì˜¤ì „ 9ì‹œ
run_fast.bat
```

### ì£¼ê°„ í™•ì¸
```bash
# ë§¤ì£¼ ì›”ìš”ì¼
check_db.bat
# DB Browserë¡œ í†µê³„ í™•ì¸
```

### ì›”ê°„ ë°±ì—…
```
1. fleamarket.db ë³µì‚¬
2. fleamarket_posts.json ë°±ì—…
3. fleamarket_detail.json ë°±ì—…
```

---

**ë§Œë“  ë‚ ì§œ**: 2025-10-10  
**ë²„ì „**: 1.0

